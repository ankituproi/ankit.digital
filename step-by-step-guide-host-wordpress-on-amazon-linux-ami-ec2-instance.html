<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Step by Step Guide : Host Wordpress on Amazon Linux AMI EC2 Instance - Ankit.Digital</title><meta name="description" content="Dear friends, If you have landed here to find out how you&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://ankituproi.github.io/ankit.digital/step-by-step-guide-host-wordpress-on-amazon-linux-ami-ec2-instance.html"><link rel="alternate" type="application/atom+xml" href="https://ankituproi.github.io/ankit.digital/feed.xml"><link rel="alternate" type="application/json" href="https://ankituproi.github.io/ankit.digital/feed.json"><meta property="og:title" content="Step by Step Guide : Host Wordpress on Amazon Linux AMI EC2 Instance"><meta property="og:site_name" content="Ankit.Digital"><meta property="og:description" content="Dear friends, If you have landed here to find out how you&hellip;"><meta property="og:url" content="https://ankituproi.github.io/ankit.digital/step-by-step-guide-host-wordpress-on-amazon-linux-ami-ec2-instance.html"><meta property="og:type" content="article"><link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin><link href="https://fonts.googleapis.com/css?family=Heebo:400,500%7CPlayfair+Display:400&amp;display=swap" rel="stylesheet"><link rel="stylesheet" href="https://ankituproi.github.io/ankit.digital/assets/css/style.css?v=19559834eb5eb8a961d5d04a374577c3"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://ankituproi.github.io/ankit.digital/step-by-step-guide-host-wordpress-on-amazon-linux-ami-ec2-instance.html"},"headline":"Step by Step Guide : Host Wordpress on Amazon Linux AMI EC2 Instance","datePublished":"2018-12-09T22:49","dateModified":"2020-05-24T18:57","description":"Dear friends, If you have landed here to find out how you&hellip;","author":{"@type":"Person","name":"Ankit Sharma"},"publisher":{"@type":"Organization","name":"Ankit Sharma"}}</script><script async src="https://ankituproi.github.io/ankit.digital/assets/js/lazysizes.min.js?v=9c0e65e25f8f098037678ba0c2be1d9f"></script></head><body><div class="container"><header><a class="logo" href="https://ankituproi.github.io/ankit.digital/">Ankit.Digital</a><div class="top"><div class="top__search"><form action="https://ankituproi.github.io/ankit.digital/search.html" class="search"><input type="search" name="q" placeholder="search..."></form></div></div></header><main><article class="post u-wrapper"><header class="hero"><p class="post__meta">By <a href="https://ankituproi.github.io/ankit.digital/authors/ankit-sharma/" rel="author" title="Ankit Sharma">Ankit Sharma</a> Published on <time datetime="2018-12-09T22:49">December 9, 2018</time></p><h1 class="post__title">Step by Step Guide : Host Wordpress on Amazon Linux AMI EC2 Instance</h1></header><div class="post__entry"><p>Dear friends,</p><p>If you have landed here to find out how you can host wordpress on Amazon Linux AMI EC2 Instance, you are absolutely at the right place and you will find the detailed instructions here. This guide will be so detailed that even a newbie and novice could also follow it and get the thing done.</p><p><span style="text-decoration: underline;"><strong>NOTE</strong></span> : At the time of writing this guide I used my Macbook air. So there might be few places where there might be instruction differences for other systems (Example - Windows).</p><p>I will be very precise and to the point. Though I will elaborate all the important things in deep but will not waste anyone's time explaining useless stuff.</p><p>Step 1 : Create an EC2 Instance and Choose Linux AMI as your instance. You will asked to create Key Pair. Do create and download it and keep at a safe place to be accessible at later stage.</p><p>Step 2 : Use Console , (In case of Windows, use putty) to ssh into your EC2 instance. Before using SSH command, you need to provide necessary permission and security to the folder containing your Security Key (.pem file). To provide this permission you need to execute this command :</p><p>chmod 400 ankit.digital.pem    {Replace ankit.digital.pem with your actual keypair name}</p><p>Now use SSH command which will look like this -</p><pre>ssh -i "ankit.digital.pem" ec2-user@ec2-xxx-xxx-xxx-xxx.us-west-2.compute.amazonaws.com
</pre><h2>Installing LAMP web server on Amazon Linux AMI.</h2><p>Step 3 : Before you can install wordpress on your AWS EC2 instance, you need to create a server environment where you can create and host your wordpress installation.</p><p>3.1 -&gt; Execute this command after your ssh login. <strong class="userinput"><code>sudo yum <span>update</span> -y</code> </strong></p><p>This command will install and update few necessary softwares on your server to create LAMP.</p><p>3.2 -&gt; Now you need to install Apache server, MySQL, and PHP software packages on your instance. To do this, you need to run this command : <strong class="userinput"><code>sudo yum <span>install</span> -y httpd24 php70 mysql56-<span>server</span> php70-mysqlnd</code></strong></p><p>3.3 -&gt; Start the apache server using this command : <strong class="userinput"><code>sudo service httpd <span>start</span></code></strong></p><p>3.4 -&gt; Run the following command for your apache server to start every time your system boots : <strong class="userinput"><code><span>sudo</span> chkconfig httpd <span>on</span></code></strong></p><p>3.5 -&gt; For your EC2 instance to be publicly viewable using it's public ip, you need to create a inbound security rule in the security group. To do this, you need to visit your EC2 dashboard. Choose your instance and go to the last column with name " Security Group ". Click on the security group linked with your EC2 instance.</p><p>Visit the inbound tab and click on Edit. Click Add rule and then put the following details.</p><ul class="itemizedlist" type="disc"><li class="listitem"><b>Type</b>: HTTP</li><li class="listitem"><b>Protocol</b>: TCP</li><li class="listitem"><b>Port Range</b>: 80</li><li class="listitem"><b>Source</b>: Custom</li></ul><p>3.6 -&gt; Now you need to test whether your EC2 instance is publicly accessible on http port or not. To test this, you need to copy your public ip and paste the same in your browser. If everything will be correct, you should see the default test page for apache server.</p><figure class="alignnone wp-image-2375 size-full"><img class="lazyload" src="https://ankituproi.github.io/ankit.digital/media/posts/9/responsive/apache_test_page2.4-xs.png" data-sizes="auto" data-srcset="https://ankituproi.github.io/ankit.digital/media/posts/9/responsive/apache_test_page2.4-xs.png 300w ,https://ankituproi.github.io/ankit.digital/media/posts/9/responsive/apache_test_page2.4-sm.png 480w ,https://ankituproi.github.io/ankit.digital/media/posts/9/responsive/apache_test_page2.4-md.png 768w ,https://ankituproi.github.io/ankit.digital/media/posts/9/responsive/apache_test_page2.4-lg.png 1024w" alt="" width="800" height="591"></figure><p>Step 4 : Give proper set of permissions to your EC2 user to edit your apache server. To do so, run the following commands :</p><p><code>[ec2-user ~]$</code><strong class="userinput"><code>sudo usermod -a -G apache <em class="replaceable">ec2-<span>user</span></em></code></strong></p><p><strong class="userinput"><code></code></strong><strong class="userinput"><code></code></strong><code class="nohighlight hljs"><code>[ec2-user ~]$</code><strong class="userinput"><code><span>exit</span></code></strong></code></p><p>4.1 -&gt; Reconnect to your instance using ssh login and then run following command.</p><p><code>[ec2-user ~]$</code><strong class="userinput"><code>sudo chown -R ec2-user:apache /<span>var</span>/www</code></strong></p><p><code>[ec2-user ~]$</code><strong class="userinput"><code>sudo chmod <span>2775</span> /<span>var</span>/www</code></strong></p><p><code>[ec2-user ~]$</code><strong class="userinput"><code>find /<span>var</span>/www -<span>type d -exec sudo chmod 2775 </span>{} \;</code></strong></p><p>After all these commands executed above, the EC2 user is now able to add, delete and edit in the apache root.</p><p>Step 5 : Now test your LAMP web server.</p><p>5.1 -&gt; Create a test php file in your apache root. To do this, you need to run this command : <code>[ec2-user ~]$</code><strong class="userinput"><code>echo <span>"&lt;?php phpinfo(); ?&gt;"</span> &gt; <span>/var/www</span><span>/html/phpinfo</span>.php</code></strong></p><p>5.2 -&gt; Open this test file created in above step. To do this, you simply need to paste your public ip along with file name. The correct format is http://publicIP/phpinfo.php . If things are okay as yet, you must see the test page like shown below :</p><figure class="alignnone size-full wp-image-2376"><img class="lazyload" src="https://ankituproi.github.io/ankit.digital/media/posts/9/responsive/Screen-Shot-2018-12-10-at-2.46.22-AM-xs.png" data-sizes="auto" data-srcset="https://ankituproi.github.io/ankit.digital/media/posts/9/responsive/Screen-Shot-2018-12-10-at-2.46.22-AM-xs.png 300w ,https://ankituproi.github.io/ankit.digital/media/posts/9/responsive/Screen-Shot-2018-12-10-at-2.46.22-AM-sm.png 480w ,https://ankituproi.github.io/ankit.digital/media/posts/9/responsive/Screen-Shot-2018-12-10-at-2.46.22-AM-md.png 768w ,https://ankituproi.github.io/ankit.digital/media/posts/9/responsive/Screen-Shot-2018-12-10-at-2.46.22-AM-lg.png 1024w" alt="" width="942" height="715"></figure><p>5.3 -&gt; Now that you have tested the existence of this file, you must delete it for security reasons. To do so, run this command : <code>[ec2-user ~]$</code><strong class="userinput"><code>rm /<span>var</span>/www/html/phpinfo.php</code></strong></p><p>Step 6 : Secure your database. Setup password for the same.</p><p><code>[ec2-user ~]$</code><strong class="userinput"><code>sudo service mysqld <span>start</span></code></strong><code><br></code></p><p><code>Initializing MySQL database:<br>...<br></code></p><p><code>PLEASE REMEMBER TO SET A PASSWORD FOR THE MySQL root USER !<br>...<br></code></p><p><code>Starting mysqld: [ OK ]</code></p><p>Step 6 : Install mysql on your server. To do this execute this command : <code>[ec2-user ~]$</code><strong class="userinput"><code><span>sudo</span> mysql_secure_installation</code></strong></p><p>Note that by default there's no password, so just press enter. And now you will be prompted to create a new password. Do that and then remove anonymous user, remote root login, test database, reload privilege table. All this can be done by following on screen instructions.</p><p>6.1 -&gt; You should stop the server now using this command : <code>[ec2-user ~]$</code><strong class="userinput"><code>sudo service mysqld <span>stop</span></code></strong></p><p>6.2 -&gt; For your mysql server to start at every boot, you must execute this command : <code>[ec2-user ~]$</code><strong class="userinput"><code><span>sudo</span> chkconfig mysqld <span>on</span></code></strong></p><p>Step 7 : Install phpmyadmin. Though this is an optional step but it's helpful in handling databases and grating permissions using user interface.</p><p>7.1 -&gt; If your logged out from your instance, ssh into your ec2 instance.</p><p>7.2 -&gt; Run the following command to install the required dependencies : <strong class="userinput"><code><span>sudo</span> <span>yum</span> <span>install</span> <span>php70-mbstring</span><span>.x86_64</span> <span>php70-zip</span><span>.x86_64</span> <span>-y</span></code></strong></p><p>7.3 -&gt; Restart your apache server using this command : <strong class="userinput"><code><span>sudo</span> service httpd restart</code></strong></p><p>7.4 -&gt; Go to apache root using the command : <strong class="userinput"><code>cd /<span>var</span>/www/html</code></strong></p><p>7.5 -&gt; Download and install the phpmyadmin latest release from the official website. Execute the following command to do this : <strong class="userinput"><code><span>wget</span> <em class="replaceable">https://www.phpmyadmin.net/downloads/phpMyAdmin-latest-<span>all</span>-languages.tar.gz</em></code></strong></p><p><strong class="userinput"><code><span>mkdir</span> <span>phpMyAdmin</span> &amp;&amp; <span>tar</span> <span>-xvzf</span> <em class="replaceable"><span>phpMyAdmin-latest-all-languages</span><span>.tar</span><span>.gz</span></em> <span>-C</span> <span>phpMyAdmin</span> <span>--strip-components</span> 1</code></strong></p><p>rm <em class="replaceable"><code><span>phpMyAdmin-latest-all-languages</span><span>.tar</span><span>.gz</span></code></em></p><p>7.6 -&gt; Start your mysql server using this command : <code>[ec2-user ~]$</code><strong class="userinput"><code>sudo service mysqld <span>start</span></code></strong></p><p>7.7 -&gt; Finally you have installed the phpmyadmin on your server and you can access it via : http://publicIP/phpMyAdmin/ . Enter the user "root" and password that you have created in the above steps.</p><p>Step 8 : Finally you have created proper server environment for your wordpress installation to run on. Now you just need to download and install wordpress on your server.</p><p>8.1 -&gt; Download wordpress using : <code>[ec2-user ~]$</code><strong class="userinput"><code>wget https:<span>//wordpress.org/latest.tar.gz</span></code></strong></p><p>8.2 -&gt; Unzip the downloaded file : <code>[ec2-user ~]$</code><strong class="userinput"><code><span>tar</span> <span>-xzf</span> <span>latest</span><span>.tar</span><span>.gz</span></code></strong></p><p>8.3 -&gt; Create Database and it's respective user for your wordpress. You can do it via command or via phpyadmin. Before this start your SQL server : <strong class="userinput"><code>sudo service mysqld start</code></strong></p><p><code>[ec2-user ~]$</code><strong class="userinput"><code><span>mysql</span> -u root -p</code></strong></p><p><strong class="userinput"><code><span>CREATE</span> <span>USER</span> <span>'</span><em class="replaceable"><span>wordpress-user</span></em><span>'</span>@<span>'localhost'</span> <span>IDENTIFIED</span> <span>BY</span> <span>'</span><em class="replaceable"><span>your_strong_password</span></em><span>'</span>;</code></strong></p><p><strong class="userinput"><code><span>CREATE</span> <span>DATABASE</span> <span>`</span><em class="replaceable"><span>wordpress-db</span></em><span>`</span>;</code></strong></p><p><strong class="userinput"><code><span>GRANT</span> ALL <span>PRIVILEGES</span> <span>ON</span> <span>`</span><em class="replaceable"><span>wordpress-db</span></em><span>`</span>.* <span>TO</span> <span>"</span><em class="replaceable"><span>wordpress-user</span></em><span>"</span>@<span>"localhost"</span>;</code></strong></p><p><strong class="userinput"><code><span>FLUSH</span> <span>PRIVILEGES</span>;</code></strong></p><p><strong class="userinput"><code><span>exit</span></code></strong></p><p>8.4 -&gt; Create wp-config.php file and edit it with relevant database details. We will do so by copying existing wp-confog-sample.php and pasting it's content in wp-config.php</p><p><strong class="userinput"><code><span>cp</span> wordpress/wp-config-sample.php wordpress/wp-config.php</code></strong></p><p><strong class="userinput"><code><span>nano</span> wordpress/wp-config.php</code>  </strong>{I am using Macbook air, so nano command works pretty good on it. You can use any other editor also that you are comfortable with }</p><p>Move on to the section where Database details are mentioned. Just edit those details with your own created details in the above steps.</p><p>define('DB_NAME', '<em class="replaceable"><code>wordpress-db</code></em>');</p><p>define('DB_USER', '<em class="replaceable"><code>wordpress-<span>user</span></code></em>');</p><p>define('DB_PASSWORD', '<em class="replaceable"><code>your_strong_password</code></em>');</p><p>After editing these details save the file and exit the editor.</p><p>8.5 -&gt; Now move this wordpress folder to your apache root so that it can be publicly accessible via your public ip.</p><p>8.6 -&gt; Now we shall write few security permission for wordpress to access apache server.</p><p><code>[ec2-user ~]$</code><strong class="userinput"><code>sudo nano /etc/httpd/conf/httpd.conf</code></strong></p><p><strong class="userinput"><code></code></strong>Find the section that starts with <code class="code">&lt;Directory "/var/www/html"&gt;</code>.</p><div class="code-btn-container"><div class="btn-dark-theme" title="Dark theme"></div></div><pre class="programlisting"><code class="nohighlight hljs">&lt;Directory "/var/www/html"&gt;
    #
    # Possible values for the Options directive are "None", "All",
    # or any combination of:
    #   Indexes Includes FollowSymLinks SymLinksifOwnerMatch ExecCGI MultiViews
    #
    # Note that "MultiViews" must be named *explicitly* --- "Options All"
    # doesn't give it to you.
    #
    # The Options directive is both complicated and important.  Please see
    # http://httpd.apache.org/docs/2.4/mod/core.html#options
    # for more information.
    #
    Options Indexes FollowSymLinks

    #
    # AllowOverride controls what directives may be placed in .htaccess files.
    # It can be "All", "None", or any combination of the keywords:
    #   Options FileInfo AuthConfig Limit
    #
    <b>AllowOverride <em class="replaceable"><code><span>None</span></code></em></b> # # Controls who can get stuff from this server. # Require all granted &lt;/Directory&gt;</code></pre><p>In this section, you need to edit "AllowOverride None" with "AllowOverride All"</p><p>Save the file and exit your editor.</p><p>8.7 -&gt; Now we need to run few commands to fix File permission for apache web server.</p><p><code>[ec2-user ~]$</code><strong class="userinput"><code>sudo chown -R apache /<span>var</span>/www</code></strong></p><p><code>[ec2-user ~]$</code><strong class="userinput"><code>sudo chgrp -R apache /<span>var</span>/www</code></strong></p><p><code>[ec2-user ~]$</code><strong class="userinput"><code>sudo chmod <span>2775</span> /<span>var</span>/www</code></strong></p><p><code>[ec2-user ~]$</code><strong class="userinput"><code>find /<span>var</span>/www -<span>type d -exec sudo chmod 2775 </span>{} \;</code></strong></p><p>Restart the webserver : <strong class="userinput"><code>sudo service httpd restart</code></strong></p><p>8.8 -&gt; Now you need to visit to your public ip address through your web browser to proceed with wordpress installation. You will be able to see the basic wordpress installation page. Just follow the onscreen instructions and you will be able to install wordpress on that ip.</p><p>Finally you are done with all the steps of Wordpress installation on Amazon Linux AMI. In case, something doesn't make sense to you, you can simply email me at ankit @ editsoftdigital[.]in or leave your comments below. I shall be quick in solving your problem.</p><p>Thanks.</p></div><footer class="post__footer"><div class="post__last-updated">This article was updated on May 24, 2020</div><div class="post__footer__col"><ul class="post__tag"><li><a href="https://ankituproi.github.io/ankit.digital/amazon-aws/">Amazon AWS</a></li></ul><div class="post__share"></div></div><nav class="post__nav"><div class="post__nav__prev">Previous Post<h5><a href="https://ankituproi.github.io/ankit.digital/fix-and-resolve-indexed-though-blocked-by-robotstxt.html" class="inverse" rel="prev">Fix and Resolve - &quot;Indexed, though blocked by robots.txt&quot;</a></h5></div><div class="post__nav__next">Next Post<h5><a href="https://ankituproi.github.io/ankit.digital/find-htaccess-in-aws-linux-ami-wordpress-installation.html" class="inverse" rel="next">Find .htaccess in AWS Linux AMI wordpress installation</a></h5></div></nav><div class="post__bio"><div><h3><a href="https://ankituproi.github.io/ankit.digital/authors/ankit-sharma/" class="inverse" title="Ankit Sharma">Ankit Sharma</a></h3></div></div><div class="post__related"><h3 class="u-h5">Related posts</h3><div class="post__related__wrap"><figure><figcaption><h4><a href="https://ankituproi.github.io/ankit.digital/connect-domain-name-to-your-ec2-instance-ip-address-wordpress.html" class="inverse">Connect domain name to your EC2 instance ip address (Wordpress)</a></h4><time datetime="2018-12-10T13:47">December 10, 2018</time></figcaption></figure><figure><figcaption><h4><a href="https://ankituproi.github.io/ankit.digital/find-htaccess-in-aws-linux-ami-wordpress-installation.html" class="inverse">Find .htaccess in AWS Linux AMI wordpress installation</a></h4><time datetime="2018-12-09T23:41">December 9, 2018</time></figcaption></figure><figure><figcaption><h4><a href="https://ankituproi.github.io/ankit.digital/wordpress-e-commerce-plugin.html" class="inverse">Wordpress e commerce Plugin</a></h4><time datetime="2017-01-30T07:19">January 30, 2017</time></figcaption></figure></div></div></footer></article></main><footer class="footer"><div class="footer__copyright">Powered by Publii</div></footer></div><script defer="defer" src="https://ankituproi.github.io/ankit.digital/assets/js/jquery-3.2.1.slim.min.js?v=5f48fc77cac90c4778fa24ec9c57f37d"></script><script defer="defer" src="https://ankituproi.github.io/ankit.digital/assets/js/scripts.min.js?v=16be857f09f55a0c76ea5e92e1f5f9d0"></script></body></html>